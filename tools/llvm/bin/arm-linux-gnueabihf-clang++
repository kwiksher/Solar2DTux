#!/bin/bash
BASE=/usr/bin
SYSROOT="/mnt/e/Ubuntu/sysroot_arm32v7"
TARGET=arm-linux-gnueabihf
CPLUS=7.5.0
TOOLCHAIN="/usr/bin/${TARGET}-gcc"
LIBPATH="${SYSROOT}/usr/lib/gcc/arm-linux-gnueabihf/${CPLUS}"
LIBARMPATH="${SYSROOT}/usr/lib/arm-linux-gnueabihf"

exec env LIBPATH="${LIBPATH}" \
    "${BASE}/clang++" --target=${TARGET} \
        --sysroot="${SYSROOT}" \
        -isysroot "${SYSROOT}" \
        -isystem "${SYSROOT}/usr/include/c++/${CPLUS}" \
        -isystem "${SYSROOT}/usr/include/arm-linux-gnueabihf/c++/${CPLUS}" \
        -isystem "${SYSROOT}/usr/lib/arm-linux-gnueabihf/glib-2.0/include/" \
        -I "${SYSROOT}/usr/include" \
        -I "${SYSROOT}/usr/include/c++/${CPLUS}" \
        -I "${SYSROOT}/usr/include/gtk-3.0" \
        -I "${SYSROOT}/usr/include/cairo" \
        -I "${SYSROOT}/usr/include/gdk-pixbuf-2.0" \
        -I "${SYSROOT}/usr/include/atk-1.0" \
        -I "${SYSROOT}/usr/include/cairo" \
        -I "${SYSROOT}/usr/include/glib-2.0" \
        -I "${SYSROOT}/usr/include/pango-1.0" \
        -I "${SYSROOT}/usr/include/freetype2" \
        -I "${SYSROOT}/usr/include/gtk-3.0/unix-print" \
        -I "${SYSROOT}/usr/lib/arm-linux-gnueabihf/glib-2.0/include" \
        -I "${SYSROOT}/usr/include/gstreamer-1.0" \
        -I "${SYSROOT}/usr/include/webkitgtk-4.0" \
        -I "${SYSROOT}/usr/include/libsoup-2.4" \
        -L"${LIBPATH}" \
        -rpath "${LIBARMPATH}" \
        --gcc-toolchain="${TOOLCHAIN}" \
        "$@" -fuse-ld=lld
